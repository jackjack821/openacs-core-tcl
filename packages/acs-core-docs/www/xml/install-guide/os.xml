<sect1 id="operating-system" xreflabel="Install an Operating System">
  <title>Install an Operating System</title>

  <authorblurb>
	by <ulink url="mailto:vinod@kurup.com">Vinod Kurup</ulink>
  </authorblurb>

  <para>
	We won't provide detailed instructions to install an operating system
	since there are so many valid choices available and each OS has their
	own installation procedures.
  </para>

  <sect2 id="os-other" xreflabel="Other OpenACS Guides">
	<title>Other OpenACS Guides</title>

	<para>
	  Members of the OpenACS community use a variety of UNIX, Linux, BSD
	  and even Windows systems. The remainder of this guide will
	  be specific to Linux. Users of other OS's may find some helpful
	  information here, but we recommend that you instead use one of these
	  OS specific guides to install OpenACS &version;.
	</para>

	<itemizedlist>
	  <listitem><para>
		  <ulink url="http://www.orchardlabs.com/freebsd/">FreeBSD guide</ulink>
		</para></listitem>

	  <listitem><para> 
		  <ulink url="http://openacs.org/new-file-storage/one-folder?file_id=209">Mac OS X guide</ulink>
		</para>
		<para>
		  This guide is currently valid for Mac OS 10.04, but it's being
		  updated for OS 10.1 as we speak. In the meantime, eager 10.1
		  users can see this <ulink
		  url="http://openacs.org/bboard/q-and-a-fetch-msg.tcl?msg_id=0002mP&amp;topic_id=11&amp;topic=OpenACS">bboard
		  thread</ulink> for some help.  
		</para></listitem>

	  <listitem><para>
		  <xref linkend="win2k-installation" />
		</para>
		<para>

		  This was written for ACS and has <emphasis>not</emphasis> yet
		  been updated for OpenACS. (Note: AOLServer is not currently
		  supported on Windows, but this may change soon. Keep an eye on
		  the AOLserver mailing list or the OpenACS forums) Another
		  alternative is to use John Sequeira's <ulink
		  url="http://www.pobox.com/~johnseq/projects/oasisvm/">Oasis
		  VM</ulink>, which is basically a fully working OpenACS &version;
		  system that you load into <ulink
		  url="http://vmware.com">VMware</ulink>.

		</para>
	  </listitem>
	  
	</itemizedlist>

  </sect2>

  <sect2 id="os-linux" xreflabel="Linux information">
	<title>Linux Information</title>

	<para>
	  I'm currently using Debian GNU/Linux, so this guide may show that
	  bias. Installation on any Linux distribution should be similar and
	  we'll try to point out differences where they exist.
	</para>

	<para>
	  When you do install your system, be sure to set up enough swap space
	  - at least 400 MB for Oracle, less for PostgreSQL. A rule of thumb is
	  to set aside a swap partition which is twice your RAM size.
	</para>

	<para>
	  Some things that you will need:
	</para>

	<informaltable>
	  <tgroup cols="2">
		<thead>
		  <row>
			<entry>Requirement</entry>
			<entry>Reason</entry>
		  </row>
		</thead>

		<tbody>
		  <row>
			<entry>recent kernel</entry> 

			<entry>

			  Version 2.2.22 or greater is the standard requirement. I used
			  version 2.4.19 for this guide.

			</entry>
		  </row>

		  <row>
			<entry>bash</entry> 
			<entry>

			  Bash is the standard Linux shell and we assume you are using
			  bash for these instructions.  If not, you will need to
			  substitute your shell's conventions for setting environment
			  variables when appropriate.

			</entry>
		  </row>

		  <row>
			<entry>glibc 2.1 (or greater)</entry> 
			<entry>
			  You need recent versions of these libraries for Oracle to
			  work properly. If you want Unicode support, you'll need glibc
			  2.2.
			</entry>
		  </row>

		  <row>
			<entry>GNU Make (3.76.1 or better)</entry> 
			<entry>
			  PostgreSQL and AOLserver require gmake to compile. Note that
			  on most linux distributions, GNU Make is simply named
			  <computeroutput>make</computeroutput> and there is no
			  <computeroutput>gmake</computeroutput>, whereas on BSD
			  distributions, <computeroutput>make</computeroutput> and
			  <computeroutput>gmake</computeroutput> are different.
			</entry>
		  </row>

		  <row>
			<entry>Tcl 8.3 development package (headers, libraries)</entry>
			<entry>
			  The site-wide-search service, OpenFTS, requires these to
			  compile. (Debian users: <computeroutput>apt-get install
			  tcl8.3-dev</computeroutput>)
			</entry>
		  </row>

		  <row>
			<entry>libxml2</entry>
			<entry>

			  OpenACS &version; stores queries in XML files, so libxml2 is
			  used to parse these files. (Debian users:
			  <computeroutput>apt-get install libxml2-dev</computeroutput>)

			</entry>
		  </row>

		  <row>
			<entry>daemontools</entry>
			<entry>

			  If you decide to follow our recommendations, you'll need
			  daemontools installed. We'll explain where to get it when you
			  need it.

			</entry>
		  </row>

		  <row>
			<entry>docbook-xml, docbook-xsl, libxslt, xsltproc</entry>
			<entry>

			  Only needed if you plan to write or edit OpenACS
			  documentation. (docbook-xml v4.2, docbook-xsl v1.56, libxslt
			  1.0.21, xsltproc 1.0.21)

			</entry>
		  </row>

		  <row>
			<entry>a MTA (Mail Transfer Agent)</entry>
			<entry>

			  An MTA is needed for OpenACS to send notifications or handle
			  incoming mail. Qmail seems to be the most popular choice in
			  the OpenACS community. Other options include Postfix, Exim
			  and Sendmail.

			</entry>
		  </row>

		</tbody>
	  </tgroup>
	</informaltable>


	<para>
	  Locations:
	</para>

	<itemizedlist>
	  <listitem><para> 

		  We'll compile stuff in
		  <computeroutput>/usr/local/src</computeroutput>

		  </para></listitem>

	  <listitem><para>
		  
		  PostgreSQL will go into
		  <computeroutput>/usr/local/pgsql</computeroutput>

		</para></listitem>

	  <listitem><para>

		  AOLServer will go into
		  <computeroutput>/usr/local/aolserver</computeroutput>

		</para></listitem>

	  <listitem><para>

		  The web root will go into your home directory
		  (e.g. <computeroutput>/home/<emphasis>joeuser</emphasis>/web</computeroutput>)

		</para></listitem>
	</itemizedlist>

	<para>

	  None of these locations are set in stone - they're simply the values
	  that we've chosen. You are free to install your software in other
	  locations, but you'll need to adjust the instructions in this
	  document to point to those locations.

	</para>

	<para>

	  Note that previous versions of this document recommended using
	  <computeroutput>/web</computeroutput> for the web root and running
	  AOLserver as the <computeroutput>nsadmin</computeroutput> user. For
	  security and compatibility reasons, this is no longer recommended.

	</para>

	<para>

	  This guide will use <computeroutput>joeuser</computeroutput> as a
      normal user. Substitute your own username wherever you see
      <computeroutput>joeuser</computeroutput>.

    </para>
  </sect2>

  <sect2 id="os-install" xreflabel="Linux Install Guides">
    <title>Linux Install Guides</title>
    <para>
      Here's a list of some helpful documentation for various OS's
    </para>

    <itemizedlist>
      <listitem><para>
          <ulink url="http://tinyplanet.ca/pubs/debian/">Painless Debian
          GNU/Linux</ulink> by Stephen van Egmond
        </para></listitem>

      <listitem><para> 

          <ulink
          url="http://www.debian.org/releases/stable/installmanual">Official
          Debian Guide</ulink> 

        </para></listitem>

      <listitem><para>

          <ulink
          url="http://www.redhat.com/docs/manuals/linux/">RedHat</ulink>

        </para></listitem>

      <listitem><para>

          <ulink
          url="http://www.linux-mandrake.com/en/fdoc.php3">Mandrake</ulink>

        </para></listitem>

      <listitem><para>

          <ulink url="http://sdb.suse.de/sdb/en/html/">SuSE</ulink>

        </para></listitem>

    </itemizedlist>

  </sect2>

  <sect2 id="os-security" xreflabel="Security Information">
    <title>Security Information</title>
    <para>

      Once you get your OS installed, it's imperative that you secure your
      installation. As Jon Griffin repeatedly warns us, "No distribution is
      secure out of the box." Again, this topic is too big to cover properly
      here, so see these links.

    </para>

    <itemizedlist>

      <listitem>
        <para>

          <ulink url="http://www.openna.com/products/books/sol/solus.php">Securing and Optimizing Linux - version 2.0</ulink>

        </para>
      </listitem>

      <listitem><para> 

          <ulink url="http://jongriffin.com/static/linuxnotes">Jon
          Griffin's notes</ulink>

          </para></listitem>

      <listitem><para> 

          <ulink url="http://www.seifried.org/lasg/">Linux Administrators
          Security Guide</ulink>

          </para></listitem>

      <listitem><para> 

          <ulink
            url="http://www.suse.com/en/support/howto/secure_webserv/index.html">Installation
            of a Secure Webserver</ulink>

        </para></listitem>

      <listitem><para>

          Others?

          </para></listitem>

    </itemizedlist>
  </sect2>


    <para><phrase role="cvstag">($Id$)</phrase></para>

</sect1>
<!--
   Local Variables:
   sgml-parent-document: ("../index.xml" "book" "sect1")
   End:
-->
