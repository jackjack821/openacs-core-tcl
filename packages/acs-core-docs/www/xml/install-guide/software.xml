<?xml version='1.0' ?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
               "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
<!ENTITY % myvars SYSTEM "../variables.ent">
%myvars;
]>
  <chapter id="software-versions">
    <title>Prerequisite Software</title>
    
    <authorblurb>
      by <ulink url="mailto:joel@aufrecht.org">Joel Aufrecht</ulink>
    </authorblurb>
    
    <para>
	OpenACS requires, at a minimum, an operating system, database,
	and webserver.  Many additional programs, such as a Mail
	Transport Agent and source control system, are also needed for
	a fully effective instance.
  </para>
    <!--
    <sect1 id="bundled-programs">
    <title>Bundled Software</title>
    <para>All of these materials are available bundled:</para>
    <itemizedlist>
    <listitem>
    <formalpara>
    <title>Reference Platform &version;-P (<ulink>tarball</ulink>, <ulink>ISO image</ulink>)</title>
    <para>Reference Platform A: OpenACS &version;, AOLserver
    3.3oacs1, PostGreSQL 7.2.4, and all supporting
    files.  Also requires <ulink url="ftp://ftp.redhat.com/pub/redhat/linux/8.0/en/iso/i386/">Red Hat 8.0</ulink>.</para>
  </formalpara>
  </listitem>
    <listitem>
    <formalpara>
    <title>Reference Platform &version;-O (<ulink>tarball</ulink>, <ulink>ISO image</ulink>)</title>
    <para>Reference Platform B: OpenACS &version;, AOLserver
    3.3oacs1, Oracle 8.1.7, and all supporting
    files.  Also requires <ulink>Red Hat 8.0</ulink>.  Also
    requires Oracle - see <xref linkend="oracle"/> for information on how to get Oracle.</para>
  </formalpara>
  </listitem>
  </itemizedlist>
  </sect1>
    -->
    <sect1 id="compatibility-matrix">
      <title>Compatibility Matrix</title>
      <authorblurb>
        by <ulink url="mailto:joel@aufrecht.org">Joel Aufrecht</ulink>
      </authorblurb>
      <figure>
        <title>Compatibility Matrix</title>
        <informaltable>
          <tgroup cols="8">
            <colspec colname="c1"/>
            <colspec colname="c2"/>
            <colspec colname="3.2.5"/>
            <colspec colname="4.5"/>
            <colspec colname="4.6"/>
            <colspec colname="4.6.1"/>
            <colspec colname="4.6.2"/>
            <colspec colname="4.6.3"/>
            <spanspec align="center" colsep="0" rowsep="0" spanname="version" namest="c1" nameend="c2"/>
            <tbody>
              <row>
                <entry spanname="version">OpenACS Version</entry>
                <entry colname="3.2.5">3.2.5</entry>
                <entry colname="4.5">4.5</entry>
                <entry colname="4.6">4.6</entry>
                <entry colname="4.6.1">4.6.1</entry>
                <entry colname="4.6.2">4.6.2</entry>
                <entry colname="4.6.3">4.6.3</entry>
              </row>
              <row>
                <entry morerows="2">AolServer</entry>
                <entry>3</entry>
                <entry namest="3.2.5" nameend="3.2.5" align="center">Verified</entry>
              </row>
              <row>
                <entry>3.3+ad13</entry>
                <entry namest="4.5" nameend="4.6.3" align="center">Verified</entry>
              </row>
              <row>
                <entry>3.3oacs1</entry>
                <entry namest="4.6.2" nameend="4.6.3" align="center">Verified</entry>
              </row>  
              <row>
                <entry morerows="2">PostGreSQL</entry>
                <entry>7.0</entry>
                <entry namest="3.2.5" nameend="3.2.5" align="center">Verified</entry>
              </row>
              <row>
                <entry>7.2.x</entry>
                <entry namest="4.5" nameend="4.6.3" align="center">Verified</entry>
              </row>
              <row>
                <entry>7.3.2</entry>
                <entry namest="3.2.5" nameend="4.6.2" align="center">Not compatible</entry>
                <entry namest="4.6.3" nameend="4.6.3" align="center">Untested</entry>
              </row>
              <row>
                <entry morerows="2">Oracle</entry>
                <entry>8.1.6</entry>
                <entry namest="4.5" nameend="4.6.3" align="center">Verified</entry>
              </row>
              <row>
                <entry>8.1.7</entry>
                <entry namest="4.5" nameend="4.6.3" align="center">Verified</entry>
              </row>
              <row>
                <entry>9i</entry>
                <entry namest="3.2.5" nameend="4.6.3" align="center">No</entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </figure>
    </sect1>

    <sect1 id="individual-programs">
      <title>Individual Programs</title>
      <itemizedlist>
        <listitem id="openacs-download"><formalpara><title><ulink
            url="http://openacs.org/projects/openacs/download/">OpenACS &version;</ulink></title>
            <para>The OpenACS tarball comprises the core packages and
            many useful additional packages.  This includes a full set
            of documentation.  The tarball works with both PostGreSQL
            and Oracle.</para>
          </formalpara>
        </listitem>
        
        <listitem>
          <formalpara>
            <title>Operating System</title>
            <para>OpenACS is designed for a Unix-like system.  It is
          developed primarily in Linux.  It can be run on Mac OS X,
          and in Windows within VMWare.</para>
          </formalpara>
          
          <itemizedlist>
            <listitem>
              <formalpara>
                <title>Linux</title>
                <para><xref linkend="linux-installation"/>.  The installation assumes a linux kernel of 2.2.22 or newer, or 2.4.14 or newer.</para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>FreeBSD</title>
                <para><ulink url="http://www.orchardlabs.com/freebsd/">FreeBSD
                guide</ulink>.  The Reference Platform uses bash, which is the
              standard Linux shell.  If you are using a different
              shell, you will need to substitute your shell's
              conventions for setting environment variables when
              appropriate.</para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>Mac OS X</title>
                <para><xref linkend="mac-installation"/></para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>Windows/VMWare</title>
                <para><xref linkend="win2k-installation"/>  The only
              way to run OpenACS on Windows is through the VMWare
              emulator.  (Please let me know if you have OpenACS
              running directly in Windows.)</para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <formalpara>
            <title>Build Environment</title>
            <para>The Reference Platform installation compiles most programs from
          source code.</para>
          </formalpara>
          <itemizedlist>
            <listitem>
              <formalpara>
                <title>glibc 2.1 or newer, REQUIRED</title>
                <para>You need recent versions of these libraries for
              Oracle to work properly. If you want Unicode support,
              you'll need glibc 2.2.  This should be included in your
              operating system distribution.</para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>GNU Make 3.76.1 or newer, REQUIRED</title>
                <para>PostgreSQL and AOLserver require gmake to
			  compile. Note that on most linux
			  distributions, GNU Make is simply named
			  <computeroutput>make</computeroutput> and
			  there is no
			  <computeroutput>gmake</computeroutput>,
			  whereas on BSD distributions,
			  <computeroutput>make</computeroutput> and
			  <computeroutput>gmake</computeroutput> are
			  different.</para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <formalpara>
            <title>TCL 8.3</title>
            <para></para>
          </formalpara>
          <itemizedlist>
            <listitem>
              <formalpara>
                <title>TCL 8.3, REQUIRED</title>
                <para>OpenACS is written in TCL, an interpreted
              language.  The TCL interpreter must be installed for
              OpenACS to function.  TCL is included in most standard
              distributions. </para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara>
                <title>TCL 8.3 development headers and libraries, OPTIONAL</title>
                <para>  The site-wide-search service, OpenFTS, requires these to
			  compile. (Debian users: <computeroutput>apt-get install
			  tcl8.3-dev</computeroutput>).  You need this
              to install OpenFTS.</para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>

        <listitem id="source-tdom">
          <formalpara>
            <title>tDOM, REQUIRED</title>
            <para>OpenACS &version; stores
          queries in XML files, so we use an AOLserver module called
          tDOM to parse these files.  (This replaces libxml2, which
          was used prior to 4.6.4.)  tDOM is available from <ulink
          url="http://tdom.org">http://tdom.org</ulink>).</para>
          </formalpara>
        </listitem>
        <listitem>
          <formalpara>
            <title>Web Server</title>
            <para>The web server handles incoming HTTP requests, provides
        a runtime environment for OpenACS's tcl code, connects to the
        database, sends out HTTP responses, and logs requests and
        errors.  OpenACS uses AOLserver; some people have had success
        running Apache with mod_nsd - see <ulink
          url="http://openacs.org/forums/message-view?message_id=21461">this
        post.</ulink></para>
          </formalpara>
          
          <itemizedlist>
            
            <listitem id="source-aolserver">
              <formalpara>
                <title><ulink
              url="http://uptime.openacs.org/aolserver-openacs/aolserver3.3oacs1.tar.gz">AOLserver 3.3oacs1</ulink>, REQUIRED</title>
                <para>Mat Kovach's source distribution of AOLserver, including all of the patches listed below.</para>
              </formalpara>

              <para>
      Mat Kovach is graciously maintaining an AOLserver distribution that
      includes all the patches and modules needed to run OpenACS &version;. These
      instructions will describe how to install using his source
      distribution. He also has binaries for SuSE 7.3 and OpenBSD 2.8 (and
      perhaps more to come), currently located at <ulink
      url="http://uptime.openacs.org/aolserver-openacs/">uptime.openacs.org</ulink>.
    </para>

              <para>
      It's also possible to download all the pieces and patches yourself:
    </para>
              
              <itemizedlist>
                <listitem><para>
          AOLserver is available at <ulink url="http://aolserver.com">aolserver.com</ulink> 
        </para></listitem>
                
                <listitem><para> 
          ArsDigita's AOLserver distribution (including
          internationalization patches, nscache, nsrewrite, nssha1 and the
          oracle driver) is available at <ulink
          url="http://www.arsdigita.com/acs-repository/download-verify?version_id=2081">arsdigita.com</ulink>
          </para></listitem>
                
                <listitem><para>

          The OpenACS PostgreSQL driver (nspostgres.so) is available from
          <ulink
          url="http://prdownloads.sourceforge.net/aolserver/nspostgres-3.5beta1.tar.gz?download">SourceForge. If
          you do decide to use nspostgres.so, you have to remember to
          change the AOLserver config file to point to nspostgres.so
          instead of postgres.so. This guide uses Mat Kovach's distro
          (i.e. postgres.so)</ulink>

        </para></listitem>

                <listitem><para>
          The patch that makes <computeroutput>exec</computeroutput> work
          on BSD is available at <ulink
          url="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=415475&amp;group_id=3152&amp;atid=303152">sourceforge.net</ulink>
        </para></listitem>
                
                <listitem><para>
          The patch that makes <computeroutput>ns_uuencode</computeroutput>
          work for binary files is available at <ulink
          url="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=474259&amp;group_id=3152&amp;atid=303152">sourceforge.net</ulink>
        </para></listitem> 
                
                <listitem><para>
          The patch that makes AOLserver respect the
          <computeroutput>-g</computeroutput> flag is available at
          <ulink
          url="http://sourceforge.net/tracker/index.php?func=detail&amp;aid=509413&amp;group_id=3152&amp;atid=303152">sourceforge.net</ulink>
        </para></listitem>
                
              </itemizedlist>
            </listitem>
            <listitem id="nsopenssl-download">
              <formalpara>
                <title><ulink
              url="http://www.scottg.net/download/nsopenssl-2.1.tar.gz">nsopenssl 2.1</ulink>, OPTIONAL</title>
                <para>Provides SSL capabilities for AOLserver.  It requires
	    OpenSSL.  You need this if you want users to make
	    secure (https) connections to your webserver.</para>
              </formalpara>
            </listitem>
            
            <listitem id="nspam-download">
              <formalpara>
                <title><ulink
              url="http://braindamage.alal.com/software/ns_pam-0.1.tar.gz">ns_pam
              0.1</ulink>, OPTIONAL</title>
                <para>Provides PAM capabilities for AOLserver.  You
              need this if you want OpenACS users to authenticate
              through a PAM module (such as RADIUS).  (<ulink
              url="http://braindamage.alal.com/software/nspam.html">home
              page</ulink>)</para>
              </formalpara>
            </listitem>
            
            
            <listitem id="pam-radius-download">
              <formalpara>
                <title><ulink
              url="ftp://ftp.freeradius.org/pub/radius/pam_radius-1.3.16.tar">pam_radius 1.3.16</ulink>, OPTIONAL</title>
                <para>Provides RADIUS capabilities for PAM.  You need
              this if you want to use RADIUS authentication via PAM in OpenACS.</para>
              </formalpara>
            </listitem>

            <listitem id="nsldap-download">
              <formalpara>
                <title><ulink
              url="http://sourceforge.net/project/showfiles.php?group_id=3152">ns_ldap 0.r8
              </ulink>, OPTIONAL</title>
                <para>Provides LDAP capabilities for AOLserver.  You need
              this if you want to use LDAP authentication in OpenACS.</para>
              </formalpara>
            </listitem>


            
            <listitem id="openfts-download">
              <formalpara>
                <title><ulink
               url="http://unc.dl.sourceforge.net/sourceforge/openfts/Search-OpenFTS-tcl-0.3.2.tar.gz">OpenFTS TCL 0.3.2</ulink>, OPTIONAL</title>
                <para>Adds full-text-search to PostGreSQL and includes a
               driver for AOLserver.  You need this if you want users
               to be able to search for any text on your site.</para>
              </formalpara>
            </listitem>
            
            
            <listitem>
              <formalpara id="analog-download">
                <title><ulink
	    url="http://www.analog.cx/analog-5.31.tar.gz">Analog 5.31</ulink>, OPTIONAL</title>
                <para>This program examines web server request logs, looks up
	    DNS values, and produces a report.  You need this if you
	    want to see how much traffic your site is getting.</para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <formalpara>
            <title>Database</title>
            <para>The data on your site (for example, user names and passwords,
        calender entries, and notes) is stored in the database.
        OpenACS seperates the database with an abstraction layer,
        which means that several different databases all function
        identically.  Currently OpenACS supports PostGreSQL 7.2 and
        Oracle 8.1.7.  While you can run the core OpenACS on any
        supported database, not all contributed packages support all
        databases.</para>
          </formalpara>
          <itemizedlist>
            <listitem>
              
              <formalpara>
                <title>Oracle 8.1.7 (Either this or PostGreSQL is REQUIRED)</title>
                <para>You can register and download Oracle from <ulink
              url="http://otn.oracle.com/software/content.html">Oracle
              TechNet</ulink>.  You need this if you want to use an
              Oracle database.</para>
              </formalpara>
            </listitem>
            <listitem>
              <formalpara id="source-postgresql">
                <title><ulink
              url="http://www.ca.postgresql.org/ftpsite/source/v7.2.4/postgresql-7.2.4.tar.gz">PostGreSQL 7.2.4</ulink> (Either this or Oracle is REQUIRED)</title>
                <para>You need this if you want to use a PostGreSQL database.
              PostGreSQL 7.3 is not backwards-compatible, and OpenACS
              support for 7.3 has not been fully tested.  If you are
              not in the United States, select a closer <ulink
              url="http://www.postgresql.org">mirror</ulink></para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <formalpara>
            <title>Process Controller</title>
            <para>This is software that initiates other software, and
          restarts that software if it fails.  On Linux, we recommend
          using Daemontools to control AOLserver and qmail.</para>
          </formalpara>
          <itemizedlist>
            <listitem id="daemontools-download">
              <formalpara>
                <title><ulink
              url="http://cr.yp.to/daemontools/daemontools-0.76.tar.gz">Daemontools 0.76</ulink>, OPTIONAL</title>
                <para>You need this if you want AOLserver and qmail to run
              "supervised," meaning that they are monitored and
              automatically restarted if they fail.</para>
              </formalpara>
            </listitem>

            <listitem>
              <formalpara>
                <title>Mail Transport Agent</title>
                <para>A Mail Transport Agent is a program that handles all
          incoming and outgoing mail.  The Reference Platform uses
          Qmail; any MTA that provides a sendmail wrapper (that is,
          that can be invoked by calling the sendmail program with the
          same variables that sendmail expects) can be used.</para>
              </formalpara>
              <itemizedlist>
                <listitem>
                  <formalpara id="qmail-download">
                    <title><ulink
              url="http://cr.yp.to/software/qmail-1.03.tar.gz">Qmail 1.03</ulink>, OPTIONAL</title>
                    <para>You need this (or a different Mail Transport
              Agent) if you want your webserver to send and
              receive email.</para>
                  </formalpara>
                </listitem>
                <listitem>
                  <formalpara id="ucspi-download">
                    <title><ulink
              url="http://cr.yp.to/ucspi-tcp/ucspi-tcp-0.88.tar.gz">ucspi-tcp 0.88</ulink>, OPTIONAL</title>
                    <para>This program listens for incoming TCP connections and
              hands them to a program.  We use it instead of inetd,
              which is insecure.  You need this if you are running qmail.</para>
                  </formalpara>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <formalpara>
            <title>DocBook, OPTIONAL</title>
            <para>(docbook-xml v4.2, docbook-xsl v1.56, libxslt 1.0.21,
          xsltproc 1.0.21).  You need this to write or edit documentation. 
</para>
          </formalpara>
        </listitem>
        
        <listitem>
          <formalpara>
            <title>Source Control</title>
            <para>A Source Control system keeps track of all of the old
          versions of your files.  It lets you recover old files,
          compare versions of file, and identify specific versions of
          files.  You can use any source control system; the Reference
          Platform and the OpenACS.org repository (where you can
          get patched and development code in between releases) use cvs.</para>
          </formalpara>
          <itemizedlist>
            <listitem>
              <formalpara>
                <title>cvs 1.11.2, OPTIONAL</title>
                <para>cvs is included in most unix distributions. You
              need this if you want to track old versions of your
              files, do controlled deployment of code from development
              to production, or get or contribute development code from openacs.org.</para>
              </formalpara>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </sect1>
    
    <para><phrase role="cvstag">($Id$)</phrase></para>
    
  </chapter>
  