<html xmlns:lxslt="http://xml.apache.org/xslt" xmlns:saxon="http://icl.com/saxon" xmlns:xalanredirect="org.apache.xalan.xslt.extensions.Redirect"><head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>4. ACS 4 Permissions Requirements</title><link rel="stylesheet" href="ad.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.24"><link rel="home" href="index.html" title="ACS Core"><link rel="up" href="kernel-doc.html" title="7. Kernel Documentation"><link rel="previous" href="object-system-design.html" title="3. ACS 4 Object Model Design"><link rel="next" href="permissions-design.html" title="5. ACS 4 Permissions Design"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><a href="http://www.openacs.org/"><img src="images/alex.jpg" border="0"></a><br><br><a class="topnav" href="/">Home</a><span class="topnav"> : </span><a class="topnav" href="index">Documentation</a><span class="topnav"> : </span><a class="topnav" href="acs-dev.html">Part III. For ACS Developers</a><span class="topnav"> : </span><a class="topnav" href="kernel-doc.html">7. Kernel Documentation</a><span class="topnav"> : </span><strong class="topnav">4. ACS 4 Permissions Requirements&nbsp;</strong><hr size="1" noshade><div id="permissions-requirements" class="sect1"><div class="titlepage"><h2 class="title" style="clear: all"><a name="permissions-requirements"></a><span class="label">4.</span> <span class="title">ACS 4 Permissions Requirements</span></h2></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt>4.1. <a href="permissions-requirements.html#permissions-requirements-intro">Introduction</a></dt><dt>4.2. <a href="permissions-requirements.html#permissions-requirements-vision">Vision Statement</a></dt><dt>4.3. <a href="permissions-requirements.html#permissions-requirements-system-overview">System Overview</a></dt><dt>4.4. <a href="permissions-requirements.html#permissions-requirements-">Use Cases and User Scenarios</a></dt><dt>4.5. <a href="permissions-requirements.html#permissions-requirements-links">Related Links</a></dt><dt>4.6. <a href="permissions-requirements.html#permissions-requirements-func-req">Functional Requirements</a></dt><dt>4.7. <a href="permissions-requirements.html#permissions-requirements-behave-req">Behavioral Requirements</a></dt><dt>4.8. <a href="permissions-requirements.html#permissions-requirements-history">Revision History</a></dt></dl></div><p><p>
by <a href="mailto:jmp@arsdigita.com" target="_top">John McClary Prevost</a> 
</p></p><div id="permissions-requirements-intro" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-intro"></a><span class="label">4.1.</span> <span class="title">Introduction</span></h3></div><p>This document records requirements for the ACS 4 Permissions system, a
component of the ACS 4 Kernel. The Permissions system is meant to unify and
centralize the handling of access and control on a given ACS 4 system.</p></div><div id="permissions-requirements-vision" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-vision"></a><span class="label">4.2.</span> <span class="title">Vision Statement</span></h3></div><p>Any multi-user software system must address the general problem of
permissions, or "who can do what, on what." On web services, which
typically involve large numbers of users belonging to different groups,
permissions handling is a critical need: access to content, services, and
information generally must be controlled. The ACS 4 Permissions system is
meant to serve as a consistent, unified interface for higher-level ACS
applications to handle permissions. Consolidating access control in such a
manner reduces both cost and risk: cost, in that less code has to be written
and maintained for dealing with recurring permissions situations; risk, in
that we need not rely on any single programmer's diligence to ensure
access control is implemented and enforced correctly.</p><p><strong>Historical Motivations</strong></p><p>In earlier versions of the ACS, permissions and access control was handled
on a module-by-module basis, often even on a page-by-page basis. For example,
a typical module might allow any registered user to access its pages
read-only, but only allow members of a certain group to make changes. The way
this group was determined also varied greatly between modules. Some modules
used "roles", while others did not. Other modules did all access
control based simply on coded rules regarding who can act on a given database
row based on the information in that row.</p><p>Problems resulting from this piecemeal approach to permissions and access
control were many, the two major ones being inconsistency, and
repeated/redundant code. Thus the drive in ACS 4 to provide a unified,
consistent permissions system that both programmers and administrators can
readily use.</p></div><div id="permissions-requirements-system-overview" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-system-overview"></a><span class="label">4.3.</span> <span class="title">System Overview</span></h3></div><p>The ACS 4 Permissions system has two main pieces: first, an API for
developers to readily handle access control in their applications. The second
piece of the system is a UI meant primarily for (subsite) administrators to
grant and revoke permissions to system entities under their control.</p><p>Consistency is a key characteristic of the Permissions system - both for a
common administrative interface, and easily deployed and maintained access
control. The system must be flexible enough to support every access model
required in ACS applications, but not so flexible that pieces will go unused
or fall outside the common administrative interfaces.</p></div><div id="permissions-requirements-" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-"></a><span class="label">4.4.</span> <span class="title">Use Cases and User Scenarios</span></h3></div><p><strong>Terminology</strong></p><p>The primary question an access control system must answer is a three-way
relation, like that between the parts of most simple sentences. A simple
sentence generally has three parts, a subject, an object, and a verb - in the
context of ACS Permissions, our simple sentence is, "Can this party
perform this operation on this target?" Definitions:</p><p>The subject of the sentence is "<strong>party</strong>" - a
distinguishable actor whose access may be controlled, this special word is
used because one person may be represented by several parties, and one party
may represent many users (or no users at all).</p><p>The object of the sentence is "<strong>target</strong>" - this
is an entity, or object, that the party wishes to perform some action on. An
entity/object here is anything that can be put under access control.</p><p>The verb of the sentence is "operation" - a behavior on the ACS
system subject to control, this word is used to represent the fact that a
single operation may be part of many larger actions the system wants to
perform. If "foo" is an operation, than we sometimes refer to the
foo "privilege" to mean that a user has the privilege to perform
that operation.</p><p>Examples of the essential question addressed by the Permissions system:
Can jane@attacker.com delete the web security bboard? Can the Boston office
(a party) within the VirtuaCorp intranet/website create its own news
instance?</p></div><div id="permissions-requirements-links" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-links"></a><span class="label">4.5.</span> <span class="title">Related Links</span></h3></div><div class="itemizedlist"><ul><li><a name="N13136"></a><p><a href="permissions-design.html">ACS 4 Permissions Design</a></p></li></ul></div></div><div id="permissions-requirements-func-req" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-func-req"></a><span class="label">4.6.</span> <span class="title">Functional Requirements</span></h3></div><p><strong>10.0 Granularity</strong></p><p>The system must support access control down to the level of a single
entity (this would imply down to the level of a row in the ACS Objects data
model).</p><p><strong>20.0 Operations</strong></p><p>The system itself must be able to answer the essential permissions
question as well as several derived questions.</p><blockquote class="blockquote"><p><strong>20.10 Basic Access Check</strong></p><p>The system must be able to answer the question, "May party P perform
operation O on target T?"</p></blockquote><blockquote class="blockquote"><p><strong>20.20 Allowed Parties Check</strong></p><p>The system must be able to answer the question, "Which parties may
perform operation O on target T?"</p></blockquote><blockquote class="blockquote"><p><strong>20.30 Allowed Operations Check</strong></p><p>The system must be able to answer the question, "Which operations may
party P perform on target T?"</p></blockquote><blockquote class="blockquote"><p><strong>20.40 Allowed Targets Check</strong></p><p>The system must be able to answer the question, "Upon which targets
may party P perform operation O?"</p></blockquote></div><div id="permissions-requirements-behave-req" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-behave-req"></a><span class="label">4.7.</span> <span class="title">Behavioral Requirements</span></h3></div><p><strong>40.0 Scale of Privileges</strong></p><p>Privileges must be designed with appropriate scope for a given ACS
package. Some privileges are of general utility (e.g. "read" and
"write"). Others are of more limited use (e.g. "moderate"
- applies mainly to a package like bboard, where many users are contributing
content simultaneously). A package defining its own privileges should do so
with moderation, being careful not to overload a privilege like
"read" to mean too many things.</p><p><strong>50.0 Aggregation of Operations (Privileges)</strong></p><p>For user interface purposes, it can be appropriate to group certain
privileges under others. For example, anyone with the "admin"
privilege may also automatically receive "read", "write",
"delete", etc. privileges.</p><p><strong>60.0 Aggregation of Parties (Groups)</strong></p><p>The system must allow aggregation of parties. The exact method used for
aggregation will probably be addressed by the ACS 4 "Groups"
system. Regardless of the exact behavior of aggregate parties, if an
aggregate party exists, then access which is granted to the aggregate party
should be available to all members of that aggregate.</p><p><strong>70.0 Scope of Access Control</strong></p><blockquote class="blockquote"><p><strong>70.10 Context</strong></p><p>There must be a method for objects to receive default access control from
some context. For example, if you do not have read access to a bboard, you
should not have read access to a message in that bboard.</p></blockquote><blockquote class="blockquote"><p><strong>70.20 Overriding</strong></p><p>It must be possible to override defaults provided by the context of an
object (as in 70.10), in both a positive and negative manner.</p></blockquote><blockquote class="blockquote"><p><strong>70.20.10 Positive Overriding</strong></p><p>It must be possible to allow a party more access to some target than they
would get by default. (For example, a user does not have the right to edit
any message on a bboard. But a user does possibly have the right to edit
their own messages.)</p></blockquote><blockquote class="blockquote"><p><strong>70.20.20 Negative Overriding</strong></p><p>It must be possible to deny a party access to some target that their
inherited privileges would have allowed. (For example, a subdirectory in the
file-storage might normally have its parent directory as context. It should
be possible, however, to make a subdirectory private to some group.)</p></blockquote><p><strong>100.0 Efficiency</strong></p><p>At least the basic access check (20.10) and the allowed targets check
(20.40) must be efficient enough for general use, i.e. scalable under fairly
heavy website traffic. It can be expected that almost every page will contain
at least one basic access check, and most pages will contain an allowed
targets check (20.40).</p><p>In particular, constraining a <tt>SELECT</tt> to return only rows the
current user has access to should not be much slower than the <tt>SELECT</tt>
on its own.</p><p><strong>120.0 Ease of Use</strong></p><p>Since most SQL queries will contain an allowed target check in the where
clause, whatever mechanism is used to make checks in SQL should be fairly
small and simple.</p><p>In particular, constraining a <tt>SELECT</tt> to return only rows the
current user has access to should not add more than one line to a query.</p></div><div id="permissions-requirements-history" class="sect2"><div class="titlepage"><h3 class="title"><a name="permissions-requirements-history"></a><span class="label">4.8.</span> <span class="title">Revision History</span></h3></div><div class="informaltable" id="N13254"><a name="N13254"></a><table cellpadding="5" cellspacing="0" border="1"><colgroup><col><col><col><col></colgroup><tbody><tr><td xmlns="http://www.w3.org/TR/xhtml1/transitional"><strong xmlns="">Document Revision #</strong></td><td xmlns="http://www.w3.org/TR/xhtml1/transitional"><strong xmlns="">Action Taken, Notes</strong></td><td xmlns="http://www.w3.org/TR/xhtml1/transitional"><strong xmlns="">When?</strong></td><td xmlns="http://www.w3.org/TR/xhtml1/transitional"><strong xmlns="">By Whom?</strong></td></tr><tr><td xmlns="http://www.w3.org/TR/xhtml1/transitional">0.1</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Creation</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">8/17/2000</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">John Prevost</td></tr><tr><td xmlns="http://www.w3.org/TR/xhtml1/transitional">0.2</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Revised, updated with new terminology</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">8/25/2000</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">John Prevost</td></tr><tr><td xmlns="http://www.w3.org/TR/xhtml1/transitional">0.3</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Edited, reformatted to conform to requirements template, pending
freeze.</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">8/26/2000</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Kai Wu</td></tr><tr><td xmlns="http://www.w3.org/TR/xhtml1/transitional">0.4</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Edited for ACS 4 Beta release.</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">10/03/2000</td><td xmlns="http://www.w3.org/TR/xhtml1/transitional">Kai Wu</td></tr></tbody></table></div></div></div><div class="navfooter"><hr size="1" noshade><table width="100%"><tr><td width="40%" align="left"><a class="bottomnav" href="object-system-design.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a href="mailto:acs-docs@arsdigita.com"><address class="nav">acs-docs@arsdigita.com</address></a></td><td width="40%" align="right">&nbsp;<a class="bottomnav" href="permissions-design.html">Next</a></td></tr></table></div></body></html>
