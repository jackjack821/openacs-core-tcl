<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Staged Deployment for Production Networks</title><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="OpenACS Core Documentation"><link rel="up" href="maintenance-web.html" title="Chapter 6. Production Environments"><link rel="previous" href="high-avail.html" title="High Availability/High Performance Configurations"><link rel="next" href="install-ssl.html" title="Installing SSL Support"><link rel="stylesheet" href="openacs.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><a href="http://openacs.org"><img src="/doc/images/alex.jpg" border="0" alt="Alex logo"></a><table width="100%" summary="Navigation header" border="0"><tr><td width="20%" align="left"><a accesskey="p" href="high-avail.html">Prev</a> </td><th width="60%" align="center">Chapter 6. Production Environments</th><td width="20%" align="right"> <a accesskey="n" href="install-ssl.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="maintenance-deploy"></a>Staged Deployment for Production Networks</h2></div></div><div></div></div><div class="authorblurb"><p>By <a href="mailto:joel@aufrecht.org" target="_top">Joel Aufrecht</a></p>
          OpenACS docs are written by the named authors, and may be edited
          by OpenACS documentation staff.
        </div><p>This section describes minimal-risk methods for deploying changes on a production network.  The important characteristics of a safe change deployment include:</p><div class="itemizedlist"><ul type="disc"><li><p>Control: You know for sure that the change you are making is the change that you intend to make and is the change that you tested.</p></li><li><p>Rollback: If anything goes wrong, you can return to the previous working configuration safely and quickly.</p></li></ul></div><p>The approach taken in this section is to always create a new service with the desired changes, running in parallel with the existing site.  This guarantees control, at least at the final step of the process: you know what changes you are about to make because you can see them directly.  It does not, by itself, guarantee the entire control chain.  You need additional measures to make sure that the change you are making is exactly and completely the change you intended to make and tested previously, and nothing more.  Those additional measures typically take the form of source control tags and system version numbers.  The parallel-server approach also guarantees rollback because the original working service is not touched; it is merely set aside.</p><p>This approach can has limitations.  If the database or file system regularly receiving new data, you must interrupt this function or risk losing data in the shuffle.  It also requires extra steps if the database will be affected.</p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2469674"></a>Simple Deployment: Database is not changed</h3></div></div><div></div></div><div class="figure"><a name="id2469681"></a><p class="title"><b>Figure 6.2. Simple Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/simple-deploy-1.png" align="middle" alt="Simple Deployment - Step 1"></div></div><div class="figure"><a name="id2469708"></a><p class="title"><b>Figure 6.3. Simple Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/simple-deploy-2.png" align="middle" alt="Simple Deployment - Step 1"></div></div><div class="figure"><a name="id2469735"></a><p class="title"><b>Figure 6.4. Simple Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/simple-deploy-3.png" align="middle" alt="Simple Deployment - Step 1"></div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2469763"></a>Complex Deployment: Database is changed</h3></div></div><div></div></div><div class="figure"><a name="id2469770"></a><p class="title"><b>Figure 6.5. Complex Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/complex-deploy-1.png" align="middle" alt="Complex Deployment - Step 1"></div></div><div class="figure"><a name="id2469797"></a><p class="title"><b>Figure 6.6. Complex Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/complex-deploy-2.png" align="middle" alt="Complex Deployment - Step 1"></div></div><div class="figure"><a name="id2469824"></a><p class="title"><b>Figure 6.7. Complex Deployment - Step 1</b></p><div class="mediaobject" align="center"><img src="images/complex-deploy-3.png" align="middle" alt="Complex Deployment - Step 1"></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="high-avail.html">Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="install-ssl.html">Next</a></td></tr><tr><td width="40%" align="left">High Availability/High Performance Configurations </td><td width="20%" align="center"><a accesskey="u" href="maintenance-web.html">Up</a></td><td width="40%" align="right"> Installing SSL Support</td></tr></table><hr><address><a href="mailto:docs@openacs.org">docs@openacs.org</a></address></div><a name="comments"></a><center><a href="http://openacs.org/doc/maintenance-deploy.html#comments">View comments on this page at openacs.org</a></center></body></html>
