<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>OpenACS Documentation Guide</title><meta name="generator" content="DocBook XSL Stylesheets V1.62.4"><link rel="home" href="index.html" title="OpenACS Core Documentation"><link rel="up" href="doc-standards.html" title="Chapter 10. Documentation Standards"><link rel="previous" href="doc-standards.html" title="Chapter 10. Documentation Standards"><link rel="next" href="psgml-mode.html" title="Using PSGML mode in Emacs"><link rel="stylesheet" href="openacs.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><a href="http://openacs.org"><img src="/doc/images/alex.jpg" border="0" alt="Alex logo"></a><table width="100%" summary="Navigation header" border="0"><tr><td width="20%" align="left"><a accesskey="p" href="doc-standards.html">Prev</a> </td><th width="60%" align="center">Chapter 10. Documentation Standards</th><td width="20%" align="right"> <a accesskey="n" href="psgml-mode.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="docbook-primer"></a>OpenACS Documentation Guide</h2></div></div><div></div></div><p>
    By Claus Rasmussen, with additions by <a href="mailto:rmello@cc.usu.edu" target="_top">Roberto
      Mello</a> and the OpenACS Community
  </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-overview"></a>Overview of OpenACS Documentation</h3></div></div><div></div></div><p>
      ArsDigita created a good documentation ground for us to build
      upon. Some sections of the documentation, however, lack details
      and examples; others are simply nonexistant. Our goal is to give
      OpenACS a superb documentation, so that users, developers and
      administrators of OpenACS installations can enjoy the system.
    </p><p>
      <span class="productname">OpenACS</span> is a powerful system, with
      incredible possibilities and applications, but with this power
      comes some complexity and a learning curve that will only be
      atenuated by good documentation. This is what we are after.
    </p><p>
      The documentation for <span class="productname">OpenACS</span> is
      written using DocBook XML. The reasons why we are using
      DocBook	are explained in more details in the
      next section. A few more reasons why
      we are using Docbook XML instead of Docbook SGML:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
	<span class="emphasis"><em>Consistency</em></span>. We started with a collection 
	of DcoBook XML files that ArsDigita wrote. Trying to re-write them to
	conform to the SGML DTD would be unnecessary work (I tried).
	</p></li><li><p>
	<span class="emphasis"><em>It does not require extra
	  effort</em></span>. Writing in XML is almost identical to
	SGML, with a couple extra rules. More details in the
	<a href="http://en.tldp.org/LDP/LDP-Author-Guide/docbookxml.html" target="_top">LDP 
	  Author Guide</a>.
	</p></li><li><p>
	<span class="emphasis"><em>The tool chain has matured</em></span>. xsltproc and other XML 
	based tools have improved to the point where they are about as good as 
	the SGML tools and generation of both html and pdf output is straighforward.
	</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-why"></a>Why DocBook?</h3></div></div><div></div></div><p>
      In order to separate content and presentation, all OpenACS documentation will be marked up to conform to the 
      <a href="http://docbook.org/xml/index.html" target="_top">DocBook XML DTD</a> 
      
      <a class="indexterm" name="id2875110"></a>
      This enables us to publish in a variety
      of formats and relieves each contributor of the burden of  presentation, freeing him to focus
      on content and sharing knowledge.
    </p><p>
      Theoretically any strict DTD would have been sufficient - we could even write our own. But DocBook has been around
      for a while (since the <a href="http://docbook.org/tdg/en/html/ch01.html#d0e2132" target="_top">early 90's</a>), 
      it's well-tested, it's complete, it's designed for technical documentation
      and best of all, it's open-source. A growing community surrounds DocBook (has 
      <a href="http://docbook.org/mailinglist/index.html" target="_top">mailing lists</a>) 
      and a number of free and commercial
      <a href="http://www.docbook.org/wiki/moin.cgi/DocBookTools" target="_top">tools</a> are available
      for editing and publishing DocBook documents.
    </p><p>
      This primer walks you through the basics, and should cover the
      needs for 95 percent of the documentation we produce. However,
      you're always welcome to check out DocBook's
      <a href="http://docbook.org/tdg/en/html/part2.html" target="_top">
	list of elements</a> and use more exotic features in your
      documents. The list is made up of SGML-elements but basically
      the same elements are valid in the XML DTD <span class="strong">as long as you remember to</span>:
      <a class="indexterm" name="id2880018"></a>
    </p><div class="itemizedlist"><ul type="disc"><li><p>
	  Always close your tags with corresponding end-tags and to
	  <span class="strong">not use other tag minimization</span>
	</p></li><li><p>
	  Write all elements and attributes in lowercase
	</p></li><li><p>
	  Quote all attributes
	</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-validation"></a>Tools</h3></div></div><div></div></div><p>
      You are going to need the following to work with the OpenACS
      Docbook XML documentation:
    </p><div class="itemizedlist"><ul type="disc"><li><p>
	<a href="http://docbook.org/xml/index.html" target="_top">Docbook XML
	DTD</a> - The document type definition for XML. You can
	find an RPM or DEB package or you can download a zip file from
	the site linked from here.
	</p></li><li><p>
	<a href="http://sourceforge.net/projects/docbook/" target="_top">XSL
	Stylesheets</a> (docbook-xsl) - The stylesheets to convert
	to HTML. We have been using a stylesheet based upon
	NWalsh's chunk.xsl.
	</p></li><li><p>
	<tt class="computeroutput">xsltproc</tt> - The processor that
	will take an XML document and, given a xsl stylesheet, convert
	it to HTML. It needs libxml2 and libxslt (available in RPM and
	DEB formats or from <a href="http://xmlsoft.org/" target="_top">xmlsoft.org</a>.	
	</p></li><li><p>
	Some editing tool. A popular one is Emacs with the psgml
	mode. We have a <a href="psgml-mode.html" title="Using PSGML mode in Emacs">intro to the PSGML
	Mode in Emacs</a> as part of our documentation. You can
	read about other editing tools in the <a href="http://en.tldp.org/LDP/LDP-Author-Guide/" target="_top">LDP Author Guide</a>.
	</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-new-doc"></a>Writing New Docs</h3></div></div><div></div></div><p>
      After you have the tools mentioned above, you need to define a
      title for your document. Then start thinking about the possible
      sections and subsections you will have in your document. Make
      sure you coordinate with the OpenACS Gatekeepers to make sure
      you're not writing something that someone else is already
      writing. Also, if you desire to use the OpenACS CVS repository,
      please e-mail the gatekeeper in charge of documentation.
    </p><p>
      You can look at some templates for documents (in Docbook XML) in
      the <a href="http://openacs.org/cvs/openacs-4/packages/acs-core-docs/www/xml/engineering-standards" target="_top">sources
      for acs-core-docs</a>, especially the <span class="emphasis"><em>
      Detailed Design Documentation Template</em></span> and the
      <span class="emphasis"><em>System/Application Requirements Template</em></span>.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-structure"></a>Document Structure</h3></div></div><div></div></div><p>
      The documentation for each package will make up a little "book" that is structured like this 
      - examples are <span class="emphasis"><em>emphasized</em></span>:

      <a class="indexterm" name="id2880260"></a>

    </p><pre class="programlisting">
    book                        : <span class="strong">Docs for one package</span> - <span class="emphasis"><em>templating</em></span>
     |
     +--chapter                 : <span class="strong">One section</span> - <span class="emphasis"><em>for developers</em></span>
         |
---------+------------------------------------------------------
         |
         +--sect1               : <span class="strong">Single document</span> - <span class="emphasis"><em>requirements</em></span>
             |
             +--sect2           : <span class="strong">Sections</span> - <span class="emphasis"><em>functional requirements</em></span>
                 |
                 +--sect3       : <span class="strong">Subsections</span> - <span class="emphasis"><em>Programmer's API</em></span>
                     |
                    ...         : <span class="strong">...</span>
    </pre><p>
      The actual content is split up into documents that start at a
      <tt class="computeroutput">sect1</tt>-level. These are then tied together in a top-level document that 
      contains all the information above the line. This will be explained in more detail in a later document, 
      and we will provide a set of templates for documenting an entire package. </p><p>For now you can take a look at the
      <a href="http://openacs.org/cvs/openacs-4/packages/acs-core-docs/www/xml/engineering-standards" target="_top">sources of these DocBook documents</a>
      to get an idea of how they are tied together.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-sections"></a>Headlines, Sections</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2880394"></a>
      Given that your job starts at the <tt class="computeroutput">sect1</tt>-level, all your documents should open with a
      <a href="http://docbook.org/tdg/en/html/sect1.html" target="_top"><tt class="computeroutput">&lt;sect1&gt;</tt></a>-tag and end 
      with the corresponding <tt class="computeroutput">&lt;/sect1&gt;</tt>.
    </p><p>
      <a class="indexterm" name="id2882335"></a>
      You need to feed every <tt class="computeroutput">&lt;sect1&gt;</tt> two attributes. The first attribute,
      <tt class="computeroutput">id</tt>, is standard and can be used with all elements. It comes in  very 
      handy when interlinking between documents (more about this when talking about links in <a href="docbook-primer.html#dbprimer-links" title="Links">the section called &#8220;Links&#8221;</a>). 
      The value of <tt class="computeroutput">id</tt> has to be unique 
      throughout the book you're making since the <tt class="computeroutput">id</tt>'s in your 
      <tt class="computeroutput">sect1</tt>'s will turn into filenames when the book is parsed into HTML.
    </p><p>
      <a class="indexterm" name="id2882383"></a>
      The other attribute is <tt class="computeroutput">xreflabel</tt>. The value of this is the text that will appear
      as the link when referring to this <tt class="computeroutput">sect1</tt>.
    </p><p>
      Right after the opening tag you put the title of the document - this is usually the same as 
      <tt class="computeroutput">xreflabel</tt>-attribute. E.g. the top level of the document you're
      reading right now looks like this:
    </p><pre class="programlisting">
&lt;sect1 id="docbook-primer" xreflabel="aD DocBook Primer"&gt;
  &lt;title&gt;aD DocBook Primer&lt;/title&gt;

...

&lt;/sect1&gt;
</pre><p>
      <a class="indexterm" name="id2882425"></a>
      Inside this container your document will be split up into 
      <a href="http://docbook.org/tdg/en/html/sect2.html" target="_top"><tt class="computeroutput">&lt;sect2&gt;</tt></a>'s,
      each with the same requirements - <tt class="computeroutput">id</tt> and <tt class="computeroutput">xreflabel</tt>
      attributes, and a <tt class="computeroutput">&lt;title&gt;</tt>-tag inside. Actually, the <tt class="computeroutput">xreflabel</tt> is never required in sections, but it makes linking to that section a lot easier.
    </p><p>
      When it comes to naming your
      <tt class="computeroutput">sect2</tt>'s and below, prefix them with some abbreviation of the <tt class="computeroutput">id</tt> in the <tt class="computeroutput">sect1</tt> such as <tt class="computeroutput">requirements-overview</tt>.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-code"></a>Code</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2882506"></a>
      For displaying a snippet of code, a filename or anything else you just want to appear as a part of
      a sentence, we will use the tag 
      <a href="http://docbook.org/tdg/en/html/computeroutput.html" target="_top"><tt class="computeroutput">&lt;computeroutput&gt;</tt></a>.
      This takes the place of the HTML-tag <tt class="computeroutput">&lt;code&gt;</tt>
    </p><p>
      For bigger chunks of code such as SQL-blocks, the tag 
      <a href="http://docbook.org/tdg/en/html/programlisting.html" target="_top"><tt class="computeroutput">&lt;programlisting&gt;</tt></a> is used. Just wrap your code block in it; mono-spacing, indents and all that stuff is taken care of
      automatically. 
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-links"></a>Links</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2882569"></a>
      Linking falls into two different categories: inside the book you're making and outside:
    </p><div class="variablelist"><dl><dt><span class="term"><span class="strong">1. Inside linking, cross-referencing other parts of your book</span></span></dt><dd><p>
	    By having unique <tt class="computeroutput">id</tt>'s you can cross-reference any part of your book
	    with a simple tag, regardless of where that part is.
	  </p><p><a class="indexterm" name="id2882610"></a>Check out how I link to a subsection of the Developer's Guide:</p><p>Put this in your XML:</p><pre class="programlisting">
- Find information about creating a package in
&lt;xref linkend="packages-making-a-package"&gt;&lt;/xref&gt;.
</pre><p>And the output is:</p><pre class="programlisting">
- Find information about creating a package in 
<a href="packages.html#packages-making-a-package">Making a Package</a>.
</pre><p>
	    Note that even though this is an empty tag, you have to either:
	  </p><div class="orderedlist"><ol type="1"><li><p>
		Provide the end-tag, <tt class="computeroutput">&lt;/xref&gt;</tt>, or
	      </p></li><li><p>
		Put a slash before the ending-bracket: <tt class="computeroutput">&lt;xref linkend="blahblah"/&gt;</tt>
	      </p></li></ol></div><p>If the section you link to hasn't a specified <tt class="computeroutput">xreflabel</tt>-attribute,
	    the link is going to look like this:</p><p>Put this in your XML:</p><pre class="programlisting">
-Find information about what a package looks like in 
&lt;xref linkend="packages-looks"&gt;&lt;/xref&gt;.
</pre><p>And the output is:</p><pre class="programlisting">
- Find information about what a package looks like in 
<a href="packages.html#packages-looks" title="What a Package Looks Like">the section called &#8220;What a Package Looks Like&#8221;</a>.
</pre><p>
	    Note that since I haven't provided an <tt class="computeroutput">xreflabel</tt> for the subsection, 
	    <tt class="computeroutput">packages-looks</tt>, the
	    parser will try its best to explain where the link takes you.
	  </p></dd><dt><span class="term"><span class="strong">2. Linking outside the documentation</span></span></dt><dd><p>
	    <a class="indexterm" name="id2882766"></a>
	    If you're hyper-linking out of the documentation, it works almost the same way as HTML - the tag is just
	    a little different

	    (<a href="http://docbook.org/tdg/en/html/ulink.html" target="_top"><tt class="computeroutput">&lt;ulink&gt;</tt></a>):

	  </p><pre class="programlisting">&lt;ulink url="http://www.oracle.com/"&gt;Oracle Corporation&lt;/ulink&gt;</pre><p>

	    ....will create a hyper-link to Oracle in the HTML-version of the documentation.
	  </p><p><span class="strong">NOTE:</span> Do NOT use ampersands in your hyper links. These are reserved for referencing
	    entities, which is exactly how you'll make an ampersand: <tt class="computeroutput">&amp;amp;</tt>

	  </p></dd></dl></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-graphics"></a>Graphics</h3></div></div><div></div></div><p>
      <span class="emphasis"><em><span class="strong">NOTE:</span> Currently this section currently only takes HTML-output into consideration -
	not a printed version</em></span>
    </p><p>
      <span class="emphasis"><em>
	<span class="strong">Another Note:</span> Also, it's still not a 100 percent sure that this is how we are going to 
	do it, so if you want to start converting your documents right away, start out with the ones without graphics ;)
      </em></span>
    </p><p>
      <a class="indexterm" name="id2882872"></a>
      To insert a graphic we use the elements 
      <a href="http://docbook.org/tdg/en/html/mediaobject.html" target="_top"><tt class="computeroutput">&lt;mediaobject&gt;</tt></a>,
      <a href="http://docbook.org/tdg/en/html/imageobject.html" target="_top"><tt class="computeroutput">&lt;imageobject&gt;</tt></a>,
      and
      <a href="http://docbook.org/tdg/en/html/imagedata.html" target="_top"><tt class="computeroutput">&lt;imagedata&gt;</tt></a>. 
      The news is that you have to provide two versions of all your graphics - one for the Web (probably a GIF or a JPEG) 
      and one for print (EPS). Finally you should provide a brief description wrapped in
      <a href="http://docbook.org/tdg/en/html/textobject.html" target="_top"><tt class="computeroutput">&lt;textobject&gt;</tt></a> - 
      in HTML this will be the ALT text.
    </p><pre class="programlisting">
&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref="../images/rp-flow.gif" format="GIF" align="center"/&gt;
  &lt;/imageobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata fileref="../images/rp-flow.eps" format="EPS" align="center"/&gt;
  &lt;/imageobject&gt;
  &lt;textobject&gt;
    &lt;phrase&gt;This is an image of the flow in the Request Processor&lt;/phrase&gt;
  &lt;/textobject&gt;
&lt;/mediaobject&gt;
</pre><p>
      Put your graphics in a separate directory ("images") and link to them 
      only with relative paths.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-lists"></a>Lists</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2882963"></a>
      Here's how you make the DocBook equivalent of the three usual HTML-lists:
    </p><div class="variablelist"><dl><dt><span class="term"><span class="strong">1. How to make an &lt;ul&gt;</span></span></dt><dd><p>
	    Making an unordered list is pretty much like doing the same thing in HTML - if you close your <tt class="computeroutput">&lt;li&gt;</tt>, that is. The only differences are that each list item has to be wrapped in something more, such as
	    <tt class="computeroutput">&lt;para&gt;</tt>, and that the tags are called
	    <a href="http://docbook.org/tdg/en/html/itemizedlist.html" target="_top"><tt class="computeroutput">&lt;itemizedlist&gt;</tt></a>
	    and
	    <a href="http://docbook.org/tdg/en/html/listitem.html" target="_top"><tt class="computeroutput">&lt;listitem&gt;</tt></a>:
	  </p><pre class="programlisting">
&lt;itemizedlist&gt;

  &lt;listitem&gt;&lt;para&gt;Stuff goes here&lt;/para&gt;&lt;/listitem&gt;
  &lt;listitem&gt;&lt;para&gt;More stuff goes here&lt;/para&gt;&lt;/listitem&gt;

&lt;/itemizedlist&gt;
</pre></dd><dt><span class="term"><span class="strong">2. How to make an &lt;ol&gt;</span></span></dt><dd><p>
	    The ordered list is like the preceding, except that you use 
	    <a href="http://docbook.org/tdg/en/html/orderedlist.html" target="_top"><tt class="computeroutput">&lt;orderedlist&gt;</tt></a> instead:</p><pre class="programlisting">
&lt;orderedlist&gt;

  &lt;listitem&gt;&lt;para&gt;Stuff goes here&lt;/para&gt;&lt;/listitem&gt;
  &lt;listitem&gt;&lt;para&gt;More stuff goes here&lt;/para&gt;&lt;/listitem&gt;

&lt;/orderedlist&gt;
</pre></dd><dt><span class="term"><span class="strong">3. How to make a &lt;dl&gt;</span></span></dt><dd><p>
	    This kind of list is called a <tt class="computeroutput">variablelist</tt> and these are the tags you'll need to 
	    make it happen:
	    <a href="http://docbook.org/tdg/en/html/variablelist.html" target="_top"><tt class="computeroutput">&lt;variablelist&gt;</tt></a>,
	    <a href="http://docbook.org/tdg/en/html/varlistentry.html" target="_top"><tt class="computeroutput">&lt;varlistentry&gt;</tt></a>, 
	    <a href="http://docbook.org/tdg/en/html/term.html" target="_top"><tt class="computeroutput">&lt;term&gt;</tt></a> and
	    <a href="http://docbook.org/tdg/en/html/listitem.html" target="_top"><tt class="computeroutput">&lt;listitem&gt;</tt></a>:</p><pre class="programlisting">
&lt;variablelist&gt;

  &lt;varlistentry&gt;
    &lt;term&gt;Heading (&lt;dt&gt;) goes here&lt;/term&gt;
    &lt;listitem&gt;&lt;para&gt;And stuff (&lt;dd&gt;)goes here&lt;/para&gt;&lt;/listitem&gt;
  &lt;/varlistentry&gt;

  &lt;varlistentry&gt;
    &lt;term&gt;Another heading goes here&lt;/term&gt;
    &lt;listitem&gt;&lt;para&gt;And more stuff goes here&lt;/para&gt;&lt;/listitem&gt;
  &lt;/varlistentry&gt;

&lt;/variablelist&gt;
</pre></dd></dl></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-tables"></a>Tables</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2883176"></a>
      DocBook supports several types of tables, but in most cases, the
      <a href="http://docbook.org/tdg/en/html/informaltable.html" target="_top"><tt class="computeroutput">&lt;informaltable&gt;</tt></a>
      is enough:
    </p><pre class="programlisting">
&lt;informaltable frame="all"&gt;
  &lt;tgroup cols="3"&gt;
    &lt;tbody&gt;

      &lt;row&gt;
        &lt;entry&gt;a1&lt;/entry&gt;
        &lt;entry&gt;b1&lt;/entry&gt;
        &lt;entry&gt;c1&lt;/entry&gt;
      &lt;/row&gt;

      &lt;row&gt;
        &lt;entry&gt;a2&lt;/entry&gt;
        &lt;entry&gt;b2&lt;/entry&gt;
        &lt;entry&gt;c2&lt;/entry&gt;
      &lt;/row&gt;

      &lt;row&gt;
        &lt;entry&gt;a3&lt;/entry&gt;
        &lt;entry&gt;b3&lt;/entry&gt;
        &lt;entry&gt;c3&lt;/entry&gt;
      &lt;/row&gt;

    &lt;/tbody&gt;
  &lt;/tgroup&gt;
&lt;/informaltable&gt;
</pre><p>
      With our current XSL-style-sheet, the output of the markup above will be a simple HTML-table:
    </p><div class="informaltable"><table cellspacing="0" border="1"><colgroup><col><col><col></colgroup><tbody><tr><td>a1</td><td>b1</td><td>c1</td></tr><tr><td>a2</td><td>b2</td><td>c2</td></tr><tr><td>a3</td><td>b3</td><td>c3</td></tr></tbody></table></div><p>
      If you want cells to span more than one row or column, it gets a bit more complicated - check out
      <a href="http://docbook.org/tdg/en/html/table.html" target="_top"><tt class="computeroutput">&lt;table&gt;</tt></a>
      for an example.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-emphasis"></a>Emphasis</h3></div></div><div></div></div><p>
      <a class="indexterm" name="id2883325"></a>
      Our documentation uses two flavors of emphasis - italics and bold type. DocBook uses one - 
      <a href="http://docbook.org/tdg/en/html/emphasis.html" target="_top"><tt class="computeroutput">&lt;emphasis&gt;</tt></a>.
    </p><p>
      The <tt class="computeroutput">&lt;emphasis&gt;</tt> tag defaults to italics when parsed. If you're looking for 
      emphasizing with bold type, use <tt class="computeroutput">&lt;emphasis role="strong"&gt;</tt>.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-indexing"></a>Indexing Your DocBook Documents</h3></div></div><div></div></div><p>
      Marking up index-words may not have any importance for the HTML-output, but in order to make it easier to make
      a nice print-version of the documentation, you should mark up words in your documents that you would like to
      see show up in an index one day.
    </p><p>
      Use
      <a href="http://docbook.org/tdg/en/html/indexterm.html" target="_top"><tt class="computeroutput">&lt;indexterm&gt;</tt></a>,
      <a href="http://docbook.org/tdg/en/html/primary.html" target="_top"><tt class="computeroutput">&lt;primary&gt;</tt></a> and
      <a href="http://docbook.org/tdg/en/html/secondary.html" target="_top"><tt class="computeroutput">&lt;secondary&gt;</tt></a>
      for this. See these links for an explanation.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-converting"></a>Converting to HTML</h3></div></div><div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This section is quoted almost verbatim from the LDP Author Guide.</p></div><p>
      Once you have the <a href="docbook-primer.html#dbprimer-validation">Docbook Tools</a>
      installed, you can convert your xml documents to HTML or other
      formats.
    </p><p>
      With the DocBook XSL stylesheets, generation of multiple files
      is controlled by the stylesheet. If you want to generate a
      single file, you call one stylesheet. If you want to generate
      multiple files, you call a different stylesheet. 
    </p><p>
      To generate a single HTML file from your DocBook XML file,
      use the command:
    </p><pre class="programlisting">
bash$  xsltproc -o outputfilename.xml /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/html.xsl filename.xml
</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
      This example uses Daniel Veillard's <span class="strong">xsltproc</span> command available
      as part of libxslt from <a href="http://www.xmlsoft.org/XSLT/" target="_top">http://www.xmlsoft.org/XSLT/</a>.
      If you are using other XML processors such as Xalan or Saxon,
      you will need to change the command line appropriately.
      </p></div><p>
      To generate a set of linked HTML pages, with a separate page
      for each &lt;chapter&gt;, &lt;sect1&gt; or &lt;appendix&gt; tag, use the
      following command: 
    </p><pre class="programlisting">
bash$  xsltproc /usr/share/sgml/docbook/stylesheet/xsl/nwalsh/html/chunk.xsl filename.xml
</pre><p> 
	You could also look at the <a href="http://cvs.openacs.org/cvs/openacs-4/packages/acs-core-docs/www/xml/Makefile?view=markup" target="_top">acs-core-docs Makefile</a> 
	for examples of how these documents are generated.
    </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="db-primer-further-reading"></a>Further Reading</h3></div></div><div></div></div><div class="itemizedlist"><ul type="disc"><li><p><a href="http://www.xml.com/lpt/a/2002/07/31/xinclude.html" target="_top">Using Xinclude</a></p></li><li><p>
	The <a href="http://en.tldp.org/LDP/LDP-Author-Guide/" target="_top">LDP Author
	Guide</a> has a lot of good information, a table of
	docbook elements and their "look" in HTML and lots of good links
	for tools.
	</p></li><li><p>
	  David Lutterkort
	  wrote an <a href="psgml-mode.html" title="Using PSGML mode in Emacs">intro to the PSGML Mode in Emacs</a>
	</p></li><li><p>
	  For checking if your document is well-formed, James Clark's free Java parser,
	  <a href="http://www.jclark.com/xml/xp/index.html" target="_top">XP</a>, is recommended. (note that
	  it is not a validating parser, but as long as you follow the guidelines set forth in this
	  document, your XML will validate)</p></li><li><p>
	  <a href="http://sources.redhat.com/docbook-tools/" target="_top">DocBook Tool for Linux</a>: 
	  Let's you convert your docbook documents to a number of formats. Sometimes it's nice to see
	  how you stuff looks. <span class="emphasis"><em>NOTE: I only got these to
	  work with Docbook SGML, NOT with Docbook XML. If you are
	  able to make it work with our XML, please let us know.</em></span>
	</p></li><li><p>
	  AptConvert from <a href="http://www.pixware.fr/" target="_top">PIXware</a> is a Java editor that will produce
	  DocBook documents and let you transform them into HTML and PDF for a local preview before you submit.
	</p></li><li><p>
	  In the process of transforming your HTML into XML, 
	  <a href="http://tidy.sourceforge.net/" target="_top">HTML tidy</a>
	  can be a a handy tool to make your HTML "regexp'able".
	  Brandoch Calef has made a 
	  <a href="http://developer.arsdigita.com/working-papers/bcalef/html-to-docbook.html#html2docbook" target="_top">Perl script</a>
	  that gets you most of the way.

	</p></li></ul></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dbprimer-rev-history"></a>Revision History</h3></div></div><div></div></div><div class="informaltable"><table cellspacing="0" border="1"><colgroup><col><col><col><col></colgroup><thead><tr><th>Document Revision #</th><th>Action Taken, Notes</th><th>When?</th><th>By Whom?</th></tr></thead><tbody><tr><td>0.4</td><td>
	      Fixed some typos.
	    </td><td>8/3/2002</td><td>Vinod Kurup</td></tr><tr><td>0.3</td><td>
	      Added OpenACS information, updated tools, added
	      extra links and added info to the Publishing section.
	    </td><td>12/24/2001</td><td>Roberto Mello</td></tr><tr><td>0.2</td><td>Changed recommendation from &lt;phrase&gt; to &lt;emphasis role="strong"&gt;</td><td>01/19/2000</td><td>Claus Rasmussen</td></tr><tr><td>0.1</td><td>Creation</td><td>12/2000</td><td>Claus Rasmussen</td></tr></tbody></table></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="doc-standards.html">Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="psgml-mode.html">Next</a></td></tr><tr><td width="40%" align="left">Chapter 10. Documentation Standards </td><td width="20%" align="center"><a accesskey="u" href="doc-standards.html">Up</a></td><td width="40%" align="right"> Using PSGML mode in Emacs</td></tr></table><hr><address><a href="mailto:docs@openacs.org">docs@openacs.org</a></address></div><a name="comments"></a><center><a href="http://openacs.org/doc/docbook-primer.html#comments">View comments on this page at openacs.org</a></center></body></html>
