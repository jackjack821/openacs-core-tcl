<html xmlns:lxslt="http://xml.apache.org/xslt" xmlns:saxon="http://icl.com/saxon" xmlns:xalanredirect="org.apache.xalan.xslt.extensions.Redirect"><head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>3. Object Identity</title><link rel="stylesheet" href="ad.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.24"><link rel="home" href="index.html" title="ACS Core"><link rel="up" href="more-developer-info.html" title="5. Other Developer Resources"><link rel="previous" href="parties.html" title="2. Parties in ACS 4"><link rel="next" href="programming-with-aolserver.html" title="4. Programming with AOLserver"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><a href="http://www.openacs.org/"><img src="images/alex.jpg" border="0"></a><br><br><a class="topnav" href="/">Home</a><span class="topnav"> : </span><a class="topnav" href="index">Documentation</a><span class="topnav"> : </span><a class="topnav" href="acs-dev.html">Part III. For ACS Developers</a><span class="topnav"> : </span><a class="topnav" href="more-developer-info.html">5. Other Developer Resources</a><span class="topnav"> : </span><strong class="topnav">3. Object Identity&nbsp;</strong><hr size="1" noshade><div id="object-identity" class="sect1"><div class="titlepage"><h2 class="title" style="clear: all"><a name="object-identity"></a><span class="label">3.</span> <span class="title">Object Identity</span></h2></div><p><p>
by <a href="http://planitia.org" target="_top">Rafael H. Schloming</a> 
</p></p><p>One of the major design features of ACS 4 is the explicit representation
of <i>object identity</i>. The reason I say "explicit
representation" is because the concept of object identity has been
around forever. It is inherent to our problem domain. Consider the example of
3.x style scoping. The 3.x data models use the triple (user_id, group_id,
scope) to <i>identify</i> an <i>object</i>. In the 4.0 data model this
object is <i>explicitly represented</i> by a single party_id.</p><p>Another good example of this is can be found in the user groups data
model. The 3.x user groups data model contains another example of an
<i>implied identity</i>. Every mapping between a user and a group could
have an arbitrary number of attached values (user_group_member_fields, etc.).
In this case it is the pair (group_id, user_id) that implicitly refers to an
object (the person's membership in a group). In the 4.0 data model this
object identity is made explicit by adding an integer primary key to the
table that maps users to groups.</p><p>Coming from a purely relational world, this might seem slightly weird at
first. The pair (group_id, user_id) is sufficient to uniquely identify the
object in question, so why have the redundant integer primary key? If you
take a closer look, it actually isn't quite so redundant. If you want to
be able to use the object model's permissioning features, and generic
attribute features on a table, you need an integer primary key for that
table. This is because you can't really write a data model in oracle that
uses more than one way to represent identity.</p><p>So, this apparently redundant primary key has saved us the trouble of
duplicating the entire generic storage system for the special case of the
user_group_map, and has saved us from implementing ad-hoc security instead of
just using acs-permissions. This design choice is further validated by the
fact that services like journals that weren't previously thought to be
generic can in fact be generically applied to membership objects, thereby
allowing us to eliminated membership state auditing columns that weren't
even capable of fully tracking the history of membership state.</p><p>The design choice of explicitly representing object identity with an
integer primary key that is derived from a globally unique sequence is the
key to eliminating redundant code and replacing it with generic <i>object
level services</i>.</p><p><div align="right" class="cvstag">($Id$)</div></p></div><div class="navfooter"><hr size="1" noshade><table width="100%"><tr><td width="40%" align="left"><a class="bottomnav" href="parties.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a href="mailto:acs-docs@arsdigita.com"><address class="nav">acs-docs@arsdigita.com</address></a></td><td width="40%" align="right">&nbsp;<a class="bottomnav" href="programming-with-aolserver.html">Next</a></td></tr></table></div></body></html>
