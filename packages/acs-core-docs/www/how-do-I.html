<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>How Do I?</title><meta name="generator" content="DocBook XSL Stylesheets V1.64.1"><link rel="home" href="index.html" title="OpenACS Core Documentation"><link rel="up" href="configuring-new-site.html" title="Chapter 4. Configuring a new OpenACS Site"><link rel="previous" href="configuring-new-site.html" title="Chapter 4. Configuring a new OpenACS Site"><link rel="next" href="upgrade.html" title="Chapter 5. Upgrading"><link rel="stylesheet" href="openacs.css" type="text/css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><a href="http://openacs.org"><img src="/doc/images/alex.jpg" border="0" alt="Alex logo"></a><table width="100%" summary="Navigation header" border="0"><tr><td width="20%" align="left"><a accesskey="p" href="configuring-new-site.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Configuring a new OpenACS Site</th><td width="20%" align="right"> <a accesskey="n" href="upgrade.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="how-do-I"></a>How Do I?</h2></div></div><div></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2457110"></a>How do I edit the front page of a new site through a web interface?</h3></div></div><div></div></div><p>The easiest way is to install the Edit-This-Page package.</p><div class="orderedlist"><ol type="1"><li><p>Log in to the web site as an administrator.</p></li><li><p>Click on Admin &gt; Install Software &gt; Install from OpenACS Repository / Install new application</p></li><li>
          Choose Edit This Page and install
        </li><li><p>Follow the instructions within <a href="/doc/edit-this-page/install" target="_top">Edit This Page</a> (the link will only work after Edit This Page is installed).</p></li></ol></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2465349"></a>How do I let anybody who registers post to a weblog?</h3></div></div><div></div></div><p>Go to <tt class="computeroutput"><a href="/admin/permissions" target="_top">/admin/permissions</a></tt> and grant Create to Registered Users</p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2462382"></a>How do I replace the front page of a new site with the front page of an application on that site</h3></div></div><div></div></div><p>Suppose you install a new site and install Weblogger, and you want all visitors to see weblogger automatically.</p><div class="orderedlist"><ol type="1"><li><p>On the front page, click the <tt class="computeroutput"><a href="/admin" target="_top">Admin</a></tt> button.</p></li><li><p>On the administration page, click <tt class="computeroutput">Parameters</tt> link.</p></li><li><p>Change the parameter <tt class="computeroutput">IndexRedirectUrl</tt> to be the URI of the desired application.  For a default weblogger installation, this would be <tt class="computeroutput"><b class="userinput"><tt>weblogger/</tt></b></tt>.  Note the trailing slash.</p></li></ol></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2461904"></a>How do I put custom functionality on front page of a new site?</h3></div></div><div></div></div><p>Every page within an OpenACS site is part of a <span class="strong">subsite</span> <a href="/doc/acs-subsite" target="_top">More information)</a>.  The home page of the entire site is the front page is a special, default instance of a subsite, served from <tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www</tt>.  If an index page is not found there, the default index page for all subsites is used.  To customize the code on the front page, copy the default index page from the Subsite package to the Main site and edit it:</p><div class="orderedlist"><ol type="1"><li><pre class="screen"><b class="userinput"><tt>cp <tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/packages/acs-subsite/www/index*</tt> <tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www</tt></tt></b></pre></li><li><p>Edit the new <tt class="computeroutput">index.adp</tt> to change the text; you shouldn't need to edit <tt class="computeroutput">index.tcl</tt> unless you are adding new functionality.</p></li></ol></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id2461982"></a>How do I change the site-wide style?</h3></div></div><div></div></div><p>Almost all pages on an OpenACS site use <a href="/doc/acs-templating" target="_top">ACS Templating</a>, and so their appearance is driven by a layer of different files.  Let's examine how this works:</p><div class="itemizedlist"><ul type="disc"><li><p>
          A templated page uses an ADP/TCL pair.  The first line in the ADP file is usually:
          </p><pre class="programlisting">&lt;master&gt;</pre><p>If it appears exactly like this, without any arguments, the template processer uses <tt class="computeroutput">default-master</tt> for that subsite.  For pages in <tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www</tt>, this is <tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www/default-master.adp</tt> and the associated .tcl file.
          </p></li><li><p>The <tt class="computeroutput">default-master</tt> is itself a normal ADP page.  It draws the subsite navigation elements and invokes <tt class="computeroutput">site-master</tt> (<tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www/site-master.adp</tt> and .tcl)</p></li><li><p>The <tt class="computeroutput">site-master</tt> draws site-wide navigation elements and invokes <tt class="computeroutput">blank-master</tt> (<tt class="computeroutput">/var/lib/aolserver/<span class="replaceable"><span class="replaceable">service0</span></span>/www/blank-master.adp</tt> and .tcl).  </p></li><li><p><tt class="computeroutput">Blank-master</tt> does HTML housekeeping and provides a framework for special sitewide navigation "meta" elements such as Translator widgets and Admin widgets.</p></li></ul></div><div class="figure"><a name="id2461895"></a><p class="title"><b>Figure 4.1. Site Templates</b></p><div class="mediaobject"><img src="images/site-templates.png" alt="Site Templates"></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="configuring-new-site.html">Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="upgrade.html">Next</a></td></tr><tr><td width="40%" align="left">Chapter 4. Configuring a new OpenACS Site </td><td width="20%" align="center"><a accesskey="u" href="configuring-new-site.html">Up</a></td><td width="40%" align="right"> Chapter 5. Upgrading</td></tr></table><hr><address><a href="mailto:docs@openacs.org">docs@openacs.org</a></address></div><a name="comments"></a><center><a href="http://openacs.org/doc/how-do-I.html#comments">View comments on this page at openacs.org</a></center></body></html>
