2004-04-18 00:24  lars

	* packages/acs-subsite/www/resources/site-master.css: Changed from
	  #developer-support-footer to .developer-support-footer

2004-04-18 00:12  lars

	* packages/acs-tcl/tcl/community-core-procs.tcl: Fixed bug #1425:
	  person::update and party::update assume object is a user

2004-04-18 00:06  lars

	* packages/acs-tcl/tcl/text-html-procs.tcl: Fixed bug #1450: Don't
	  dress img src URLs as links

2004-04-17 23:38  lars

	* packages/acs-admin/www/install/install.tcl: Made the package name
	  be a link to install the package, instead of having a separate
	  link at the far right side

2004-04-17 23:32  lars

	* packages/acs-admin/www/install/: index.adp, index.tcl,
	  install.adp, install.tcl: Implemented first step towards merging
	  the six different install options - now there are just 4

2004-04-17 23:31  lars

	* packages/acs-tcl/tcl/00-database-procs.tcl: Added doc for
	  -unclobber switch to db_mutlirow

2004-04-17 23:31  lars

	* packages/acs-templating/tcl/query-procs.tcl: - Added -unclobber
	  switch to template::multirow - Added local emacs code to set
	  indent level to 2

2004-04-17 16:11  jeffd

	* packages/acs-core-docs/www/: files/groups.dia, files/openacs.txt,
	  files/tutorial/myfirstpackage-procs.tcl,
	  images/group-initial.png, images/group-model.png,
	  images/i18n-1.png, images/i18n-2.png, images/i18n-3.png,
	  images/production.dia, images/upgrade-cvs.png, xml/index.xml,
	  xml/developers-guide/i18n.xml,
	  xml/developers-guide/permissions.xml,
	  xml/developers-guide/tutorial-advanced.xml,
	  xml/developers-guide/tutorial-debug.xml,
	  xml/install-guide/aolserver4.xml,
	  xml/install-guide/maintenance.xml,
	  xml/install-guide/other-software.xml,
	  xml/install-guide/upgrade.xml: merge docbook docs from HEAD to
	  oacs-5-1 branch

2004-04-16 19:30  lars

	* packages/acs-subsite/tcl/application-group-procs-oracle.xql:
	  Fixed bug #1526

2004-04-16 19:21  lars

	* packages/acs-templating/www/doc/tagref/include.html: Applied
	  patch #446 to fix bug #1594

2004-04-16 18:56  lars

	* packages/acs-templating/tcl/list-procs.tcl: Applied patch #476 to
	  fix bug #1687: listbuilder paginator doesn't cache all pages

2004-04-16 18:14  lars

	* packages/acs-templating/tcl/list-procs.tcl: Fix list-builder to
	  allow using a variable for the list name instead of having to put
	  a hard value there

2004-04-16 16:40  lars

	* packages/acs-service-contract/tcl/:
	  acs-service-contract-init.tcl, acs-service-contract-procs.tcl:
	  Pass in impl_alias and impl_pl directly to acs_sc_proc, which
	  avoids calling the expensive acs_sc_get_alias proc

2004-04-16 16:38  lars

	* packages/acs-service-contract/tcl/implementation-procs.tcl:
	  Clarified unfinished nature of proc through clear comment

2004-04-08 04:42  daveb

	*
	  packages/acs-content-repository/sql/postgresql/upgrade/upgrade-5.0.0-5.1.0d1.sql:
	  Fix typos in content_item__move, add missing content_folder__move
	  function with name parameter, and cr_items_tree_update_tr along
	  with upgrade script.

2004-04-07 21:40  daveb

	* packages/acs-content-repository/tcl/revision-procs.xql:
	  Add content-length to get_revision_info query.

2004-04-05 03:13  daveb

	* packages/acs-content-repository/sql/oracle/content-revision.sql:
	  Copy content_length when copying a content_revision, otherwise
	  copied revisions end up with NULL content length.

2004-04-04 14:29  joela

	* etc/analog.cfg: added LOGFORMAT for bug 1359

2004-04-02 23:00  andrewg

	* packages/acs-tcl/tcl/defs-procs.tcl: Fixed a simple bug in
	  deprecated proc ad_admin_footer.

2004-04-01 03:50  daveb

	* packages/acs-content-repository/tcl/revision-procs.tcl: Add
	  support for Content-Length header and HEAD method to
	  cr_write_content for lob storage method.  Include Jeff's trick to
	  output a correct content-length for file storage items from
	  ns_returnfile.

2004-04-01 03:34  daveb

	* packages/acs-kernel/acs-kernel.info: Add href to allowed
	  attributes and remove *. Fix bug#1310

2004-04-01 03:20  daveb

	* packages/acs-content-repository/tcl/: revision-procs-oracle.xql,
	  revision-procs-postgresql.xql, revision-procs.tcl: Fix
	  content-length support to use proper header name and actually
	  check in the queries that grab content length from cr_revisions.

2004-03-31 05:14  daveb

	* packages/acs-content-repository/tcl/revision-procs.tcl: Fix
	  reference to outputheaders, it should have been all lowercase.

2004-03-30 17:36  jeffd

	* etc/config.tcl: add LOCK and UNLOCK to the tDAV options

2004-03-29 12:05  joela

	* packages/acs-lang/acs-lang.info: retagged packages to 5.1.0b1

2004-03-27 14:31  daveb

	* packages/acs-content-repository/tcl/item-procs-postgresql.xql:
	  set_live should be set_live_revision. bug#1686

2004-03-26 17:02  peterm

	* packages/acs-lang/catalog/acs-lang.fi_FI.utf-8.xml: adding
	  missing space in the localization-abmon message

2004-03-26 15:43  gyang

	* packages/acs-subsite/www/admin/applications/application-add.tcl:
	  Fixed Bug #1563 by applying Patch #443

2004-03-26 15:38  gyang

	* packages/: acs-tcl/tcl/apm-install-procs.tcl,
	  acs-admin/www/install/install.tcl: Fixed Bug #1646 by applying
	  Patch #1646 with modifications for a typo

2004-03-26 14:46  gyang

	* packages/: acs-authentication/tcl/local-procs.tcl,
	  acs-subsite/lib/user-new.tcl: Partial fix of Bug #1424 by
	  applying Patch #474

2004-03-26 14:33  peterm

	* packages/acs-lang/www/admin/message-list.tcl: making sure the
	  message counts are correct. Not displaying deleted messages
	  except when you chooose deleted in the filter

2004-03-26 12:15  peterm

	* packages/acs-subsite/www/permissions/one.tcl: The check on the
	  permissions/one page to prevent the admin from revoking read
	  permission for the public on the main site package was broken.
	  Fixes bug 1680

2004-03-26 10:55  bdolicki

	* packages/acs-templating/tcl/date-procs.tcl: This was accidentally
	  commited on HEAD instead of on oacs-5-1

2004-03-26 10:05  bdolicki

	* packages/: acs-tcl/tcl/apm-procs.tcl,
	  acs-templating/tcl/date-init.tcl: Part of this commit is fixing
	  #1176 (just a few acs-lang strings and properly splitting the
	  file into *-proc.tcl and *-init.tcl part).  Part of this fix
	  (catalog file) was accidentally commited before by Joel

	  The bigger part is changing load order of library files so that
	  acs-lang-init.tcl gets loaded before all other *-init.tcl files.

	  This is necessary because acs-lang is so fundamental and it is
	  quite possible (as we have seen with the example of
	  date-init.tcl) that there are *-init.tcl files that need
	  translated strings.

2004-03-26 09:20  joela

	* etc/backup.sh: fixed typo in backup.sh - bug 1658

2004-03-26 09:11  joela

	* packages/acs-tcl/tcl/utilities-init.tcl: adding error log rolling
	  scheduled proc

2004-03-25 19:36  jeffd

	* packages/: acs-authentication/tcl/authority-procs.tcl,
	  acs-tcl/tcl/site-nodes-procs.tcl,
	  acs-templating/tcl/list-procs.tcl,
	  acs-templating/tcl/widget-procs.tcl: fix the very common error of
	  calling empty_string_p with var instead of $var

2004-03-25 19:19  peterm

	* packages/acs-subsite/www/register/user-join.tcl: removing abort
	  switch from call to ad_returnredirect (switch no longer
	  supported)

2004-03-25 18:46  gyang

	* packages/acs-subsite/tcl/group-type-procs.tcl: Fixed Bug #1187 by
	  applying Patch #472

2004-03-25 18:42  peterm

	* packages/acs-templating/resources/lists/table.adp: making sure
	  elements.label is always noquoted for consistency. Fixing bug
	  1184

2004-03-25 18:40  joela

	* packages/acs-subsite/: catalog/acs-subsite.en_US.ISO-8859-1.xml,
	  lib/user-info.adp, www/user/basic-info-update.tcl: added two keys
	  for bug #962

2004-03-25 18:39  joela

	* packages/acs-core-docs/www/index.adp: changed formatting so that
	  lists are not centered in IE

2004-03-25 17:36  peterm

	* packages/acs-admin/www/apm/: version-edit-2.tcl,
	  version-edit-2.xql: Making sure you can keep the version of a
	  package unchanged while editing it. Even if you keep the upgrade
	  checkbox selected it will now not attempt an upgrade if you
	  didn't change the version_name. fixing bug 1106

2004-03-25 17:30  peterm

	* packages/acs-tcl/tcl/defs-procs.tcl: changing the
	  ad_return_complaint proc to use the ad-return-complain template.
	  It was broken with the complain template as it didn't create a
	  multirow

2004-03-25 17:09  lars

	* packages/acs-templating/tcl/list-procs.tcl: Internationalized
	  list-builder formats and sort order labels

2004-03-25 17:09  lars

	*
	  packages/acs-templating/catalog/acs-templating.en_US.ISO-8859-1.xml:
	  Added message keys for sort order and formats

2004-03-25 16:59  joela

	* packages/acs-tcl/tcl/utilities-procs.tcl: added roll_server_log
	  procedure

2004-03-25 16:22  jlaine

	* packages/acs-subsite/tcl/group-procs.tcl: Fixed bug #1392:
	  Documented the behaviour of group::member_p

2004-03-25 15:40  joela

	* packages/acs-templating/:
	  catalog/acs-templating.en_US.ISO-8859-1.xml, tcl/date-procs.tcl,
	  tcl/element-procs.tcl: applied Guan's patch adding some new
	  message keys and corresponding catalog entries to some date procs

2004-03-25 15:28  peterm

	* packages/acs-tcl/tcl/membership-rel-procs.tcl: deleted user is
	  put in public group so that he has public privileges. fixing bug
	  1468

2004-03-25 15:27  peterm

	* packages/acs-tcl/tcl/00-database-procs.tcl: fixing some variable
	  name misakes in my previous bind var/quoting fix

2004-03-25 14:53  joela

	* packages/: acs-templating/tcl/util-procs.tcl,
	  acs-tcl/tcl/utilities-procs.tcl: fixing bug 1318

2004-03-25 13:52  peterm

	* packages/acs-tcl/tcl/: 00-database-procs.tcl,
	  test/acs-tcl-test-procs.tcl: Changing proc
	  db_bind_var_substitution (used only for db_exec_plsql) so that it
	  doesn't do bind var substitution for bind variables that are in
	  quotes. fixing bug 1113

2004-03-25 12:43  joela

	* packages/acs-tcl/tcl/test/acs-tcl-test-procs.tcl: added test case
	  for 1450

2004-03-25 10:58  jlaine

	* packages/acs-subsite/www/admin/rel-types/new.adp:
	  Fixed bug #1299: added noquote to supertypes.name

2004-03-25 10:50  peterm

	* etc/config.tcl: changing ServerSessionCache to default to true.
	  Fixinb bug 1336

2004-03-25 04:25  donb

	* packages/acs-api-browser/tcl/acs-api-documentation-procs.tcl:
	  Moved my previous fix to 5.1

2004-03-25 03:41  daveb

	* packages/acs-api-browser/tcl/acs-api-documentation-procs.tcl: Fix
	  bug#1562.

2004-03-24 20:26  andrewg

	* packages/acs-authentication/tcl/authentication-procs.tcl: Added
	  -nologin flag to disable automatic login of a new user.  This is
	  part of an initial foray into allowing certain kinds of
	  'low-barrier' registration, such as on a weblog comments system.

2004-03-24 16:34  joela

	* packages/: acs-admin/acs-admin.info,
	  acs-api-browser/acs-api-browser.info,
	  acs-authentication/acs-authentication.info,
	  acs-automated-testing/acs-automated-testing.info,
	  acs-bootstrap-installer/acs-bootstrap-installer.info,
	  acs-content-repository/acs-content-repository.info,
	  acs-core-docs/acs-core-docs.info, acs-kernel/acs-kernel.info,
	  acs-lang/acs-lang.info, acs-mail/acs-mail.info,
	  acs-messaging/acs-messaging.info,
	  acs-reference/acs-reference.info,
	  acs-service-contract/acs-service-contract.info,
	  acs-subsite/acs-subsite.info, acs-tcl/acs-tcl.info,
	  acs-templating/acs-templating.info,
	  ref-timezones/ref-timezones.info, search/search.info: increased
	  core version numbers to alpha 2

2004-03-23 16:30  peterm

	* packages/acs-subsite/www/admin/relations/: add-oracle.xql,
	  add-postgresql.xql, add.tcl: When adding a user to a group we
	  were checking read permission on the users offered for selection.
	  Since all OpenACS users have a null context_id only the
	  site-wide-admin would have read privilege on them. To also allow
	  subsite admins to add users to groups I removed the read
	  privilege check on the users. See
	  http://openacs.org/forums/message-view?message_id=171339

2004-03-23 12:32  jeffd

	* packages/: acs-admin/acs-admin.info,
	  acs-api-browser/acs-api-browser.info,
	  acs-authentication/acs-authentication.info,
	  acs-bootstrap-installer/acs-bootstrap-installer.info,
	  acs-core-docs/acs-core-docs.info, acs-kernel/acs-kernel.info,
	  acs-lang/acs-lang.info, acs-mail/acs-mail.info,
	  acs-messaging/acs-messaging.info,
	  acs-service-contract/acs-service-contract.info,
	  acs-subsite/acs-subsite.info, acs-tcl/acs-tcl.info,
	  acs-templating/acs-templating.info,
	  ref-timezones/ref-timezones.info, search/search.info: repair the
	  borkulated provides lines for core packages may fix bug 1669

2004-03-22 07:17  maltes

	* etc/config.tcl: Some parameters where still using the /web
	  directory instead of . Found in
	  http://openacs.org/forums/message-view?message_id=171712.

2004-03-22 03:52  lars

	* packages/acs-tcl/tcl/site-nodes-procs.tcl: Fixed
	  site_node::get_url_from_object_id slowness bug, plus added a
	  similar mechanism to find URL by package_key.

2004-03-22 03:46  lars

	* packages/acs-tcl/tcl/utilities-procs.tcl: Added proc to use with
	  lsort to compare strings based on their length

2004-03-19 14:09  peterm

	* packages/: acs-admin/www/users/index.adp,
	  acs-admin/www/users/user-batch-add-2.adp,
	  acs-admin/www/users/user-batch-add-2.tcl,
	  acs-admin/www/users/user-batch-add.adp,
	  acs-admin/www/users/user-batch-add.tcl,
	  acs-subsite/tcl/subsite-procs.tcl,
	  acs-subsite/www/members/member-invite.adp,
	  acs-subsite/www/members/member-invite.tcl,
	  acs-subsite/www/members/user-batch-add-2.adp,
	  acs-subsite/www/members/user-batch-add-2.tcl,
	  acs-subsite/www/members/user-batch-add.adp,
	  acs-subsite/www/members/user-batch-add.tcl,
	  acs-subsite/www/members/user-new.tcl: moving bulk user add pages
	  from /acs-admin to subsite admin

2004-03-19 14:06  peterm

	* packages/acs-kernel/sql/: oracle/acs-install.sql,
	  postgresql/acs-install.sql: setting context_id of registered
	  users group to be the main site package so that admin privilege
	  on that package entitles you to add users. See
	  http://openacs.org/forums/message-view?message_id=171339

2004-03-19 11:57  peterm

	* packages/acs-admin/www/users/: user-batch-add-2.adp,
	  user-batch-add-2.tcl, user-batch-add.adp: bringing over changes
	  by bdolicki from head

2004-03-19 10:24  peterm

	* packages/acs-subsite/lib/: user-info.adp, user-info.tcl: Applying
	  the groups your member of patch by Branimir from head: cvs update
	  -j1.4 -j1.5 packages/acs-subsite/lib/user-info.adp cvs update
	  -j1.11 -j1.12 packages/acs-subsite/lib/user-info.tcl

2004-03-18 17:51  jeffd

	* packages/acs-tcl/tcl/00-database-procs.tcl: use db_get_dbhost to
	  get host for windows remote connections to work bug 1258 fix by
	  John Sequeira

2004-03-18 17:15  peterm

	* packages/acs-lang/tcl/: lang-util-procs.tcl,
	  test/acs-lang-test-procs.tcl: stripping off trailing space in the
	  text of temporary tags on syntax <# key text #>. Checked new
	  functionality with test case.

2004-03-18 16:59  peterm

	* packages/acs-lang/www/admin/: edit-localized-message.adp,
	  edit-localized-message.tcl: on the message edit page - adding
	  info about who did the first translation and when

2004-03-18 16:14  jeffd

	* packages/acs-tcl/tcl/acs-permissions-procs.tcl: fix for bug 1433,
	  PermissionCacheP used memoize on non list thing which would break
	  with empty object_id etc

2004-03-18 11:12  peterm

	* packages/acs-lang/tcl/: lang-message-procs.tcl,
	  test/acs-lang-test-procs.tcl: Proc lang::message::format (used by
	  lang::message::lookup) - implementing ability to have embedded
	  array variables in I18N messages on syntax %var_name.key_name%.
	  Adding corresponding test case.

2004-03-18 10:50  peterm

	* packages/acs-admin/www/apm/version-i18n.tcl: cosmetic change of
	  file filter

2004-03-18 10:07  peterm

	* packages/: acs-templating/tcl/parse-procs.tcl,
	  acs-lang/tcl/lang-message-procs.tcl,
	  acs-lang/tcl/lang-util-procs.tcl,
	  acs-lang/tcl/test/acs-lang-test-procs.tcl: adding support for
	  variables embedded in I18N messages to have the noquote
	  instruction (from the corresponding adp variable). TODO: make
	  sure we do ad_quotehtml and lang::util::localize on the embedded
	  variables. Adding the proc
	  convert_percentage_signs_to_adp_variables that we don't currently
	  need, but I'm leaving it in in case it would be useful later on.

2004-03-16 19:33  rocaelh

	* packages/acs-content-repository/sql/oracle/: content-folder.sql,
	  content-item.sql: fixing bug 1598

2004-03-16 11:52  joela

	* packages/: acs-admin/acs-admin.info,
	  acs-api-browser/acs-api-browser.info,
	  acs-authentication/acs-authentication.info,
	  acs-bootstrap-installer/acs-bootstrap-installer.info,
	  acs-core-docs/acs-core-docs.info, acs-kernel/acs-kernel.info,
	  acs-lang/acs-lang.info, acs-mail/acs-mail.info,
	  acs-messaging/acs-messaging.info,
	  acs-service-contract/acs-service-contract.info,
	  acs-subsite/acs-subsite.info, acs-tcl/acs-tcl.info,
	  acs-templating/acs-templating.info,
	  ref-timezones/ref-timezones.info, search/search.info: changed
	  package version numbers to 5.1.0a1

2004-03-14 15:39  gyang

	* packages/acs-authentication/:
	  catalog/acs-authentication.en_US.ISO-8859-1.xml,
	  tcl/local-procs.tcl: Fixed Bug #1506 in oacs-5-1 by adding the
	  message

2004-03-14 14:17  gyang

	* packages/acs-subsite/www/admin/applications/application-add.tcl:
	  Oops. Wanted to fix Bug #1563 but realized after looking in
	  bugtracker that I'm not supposed to commit these things myself in
	  other peoples' packages.

2004-03-14 14:12  gyang

	* packages/acs-subsite/www/admin/applications/application-add.tcl:
	  Fixed Bug #1563 by changing help_text in the application-add form

